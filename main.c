#include "nmi.h"
#include<string.h>
int main(int argc, char ** argv)
{
    VM vm;
    vm.rga = 4;
    //char code[] = "\x00\nHello!\n\x00\x19\x80\x00\x00\x00\x02\x1a\x81\x00\x02\x88\x19\x80\x00\x00\x00\x01\x1a\x80\x00\x00\x00\n\x88\x19\x80\x00\x00\x00\x00\x1a\x80\x00\x00\x00\x00\x88";


    char code[] = "\x00\x02\x1a\x80\x00\x00\x00\x01\x39\x80\x00\x00\x00\x00\x48\x00\x1c\x32\x10\x29\x80\x00\x00\x00\x01\x40\x00\x08\x19\x80\x00\x00\x00\x00\x88";


    memcpy(vm.RAM, code, 47);
    uint32_t retCode = execute(&vm);
    printf("NaomiVM exited with code %d\n", retCode);
    return 0;
}
